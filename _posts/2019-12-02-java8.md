---
title: "java 8"
date: 2019-12-02
categories: java8
---

## 1. 람다
메서드로 전달할 수 있는 익명 함수를 단순화 한 것.

### 람다 특징
* 익명 : 메서드 이름 없음
* 함수 : 메서드처럼 특정 클래스에 종속되지 않으므로 함수라고 부름.
* **전달** : 람다 표현식을 메서드 인수로 전달하거나 변수로 저장할 수 있음.
* 간결성

## 2. 스트림
데이터 컬렉션 반복을 선언적으로 처리하는 기능.  
(명령형은 어떻게 할 것인지 설명(how), 선언형은 무엇을 할 것인지 정의(what)).  

### 스트림 장점
* 선언형 : 간결함, 가독성 향상
* 조립 : 유연성 향상
* 병렬화 : 성능 향상

### 스트림의 정의
**데이터 처리 연산**을 지원하도록 **소스**에서 추출된 **연속된 요소**

* 연속된 요소 : 특정 요소 형식으로 이루어진 값 집합의 인터페이스를 제공한다.  
자료구조적으로 접근하는 컬렉션과 달리 스트림은 fileter, sorted, map 처럼 표현 계산식이 주를 이룬다.  
**즉, 컬렉션의 주제는 데이터고 스트림의 주제는 계산이다.**

* 소스 : 스트림은 컬렉션, 배열, I/O 자원 등의 데이터 제공 소스로부터 데이터를 소비한다.

* 데이터 처리 연산 : 함수형 프로그래밍 언어에서 일반적으로 지원하는 연산과 데이터베이스와 비슷한 연산을 지원한다.  

### 스트림 특징
* 파이프라이닝 : 스트림 연산끼리 연결해서 커라달 파이프라인을 구성할 수 있도록 스트림 자신을 반환
* 내부 반복 : 반복자를 이용해서 명시적으로 반복하는 컬렉션과 달리 스트림은 내부 반복을 지원함.  

### 스트림과 컬렉션
|     \   |        **스트림**      |             **컬렉션**             |
|---------|-----------------------|----------------------------------|
| 비교 예시 | 인터넷 스트리밍           | DVD                              |
| 요소와의 관계 | 생산자 - 소비자       | 생산자 중심                          |
| 데이터 계산 시점 | **요청할 때만 요소를 계산**하는 고정된 자료구조.<br>(삽입삭제 불가) | 컬렉션의 모든 요소는 **컬렉션에 추가하기 전에 계산**되어야 함. |
| 탐색 횟수 | 1회.<br>한번 탐색한 요소를 다시 탐색하려면<br>초기 데이터 소스에서 새로운 스트림을 만들어야 함. | 제한없음 |
| 데이터 반복 처리 | 내부 반복<br>(병렬처리, 최적화된 다양한 순서로 처리 가능) | 외부 반복<br>(명시적으로 요소를 하나씩 가져와 처리) |

### 스트림 연산
파이프라인을 만들어 연결할 수 있는 스트림 연산을 **중간 연산**이라고 하며, 스트림을 닫는 연산을 **최종 연산**이라고 한다.

#### 중간 연산
* 중간 연산(filter, sorted...)은 다른 스트림을 반환. -> 여러 중간 연산을 연결해서 질의할 수 있다.
* 단말 연산을 스트림 파이프라인에 실행하기 전까지는 아무 연산도 수행하지 않음. -> **게으르다(lazy)**
* 중간 연산을 합친 다음, 합쳐진 중간 연산을 최종 연산으로 한번에 처리.

#### 최종 연산
* 스트림 파이프라인에서 결과를 도출.
* 스트림 이외의 결과가 반환.

## 3. 스트림 활용
### 필터링과 슬라이싱
* filter : predicate(boolean을 반환하는 함수)를 인수로 받아서 predicate와 일치하는 모든 요소를 포함하는 스트림을 반환.
* distinct : 고유 요소로 이루어진 스트림을 반환. (hashCode, equals로 결정)
* limit : 주어진 사이즈 이하의 크기를 갖는 새로운 스트림을 반환.
* skip : 처음 n개 요소를 제외한 스트림을 반환.

### 매핑
#### map
* 스트림은 함수를 인수로 받는 map 메서드를 지원한다. 인수로 제공된 함수는 각 요소에 적용되며 함수를 적용한 결과가 새로운 요소로 매핑된다.
```java
// Stream<Dish> 에서 Stream<String>으로 변환.
 List<String> dishName = menu.stream().map(Dish::getName).collect(toList());
```

#### flatMap
* 각 배열을 스트림이 아니라 스트림의 콘텐츠로 매핑한다.
* 스트림의 각 값을 다른 스트림으로 만든 다음에 모든 스트림을 하나의 스트림으로 연결하는 기능을 수행.

### 검색과 매칭




